<ng-container *ngIf="$pieces | async as pieces; else loading">
    <ng-container *ngIf="pieces.length > 0; else noPieces">
        <app-metric-averages
                [$pieces]="$pieces"></app-metric-averages>
    </ng-container>
</ng-container>

<ng-template #noPieces>
    <div class="no-pieces">
        <h4 mat-subheader>No data!</h4>
        <mat-icon svgIcon="shelves"></mat-icon>
        <h4 mat-subheader>Select some pieces to view data here.</h4>
    </div>
</ng-template>

<ng-template #loading>
    <div class="loading">
        <mat-progress-spinner
                color="accent"
                mode="indeterminate">
        </mat-progress-spinner>
        <h4 mat-subheader>Loading Pieces</h4></div>
</ng-template>

